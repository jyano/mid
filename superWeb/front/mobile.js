function media(){
	MED = function () {
		
		
		
		/*
		
		
		
		 @media screen and (min-width:600px) {        nav { float: left; width: 25%; }        section { margin-left: 25%; }      }
		
		 @media screen and (max-width:599px) {        nav li { display: inline;  }          }
		
		
		
		
		 */
	}
	CSSold = function () {
		SRU = function () {
			$.x('y', 'css')
			_.ru = function () {
				var g = G(arguments), ss
				ss = document.styleSheets[0]
				if (ss.insertRule) {
					ss.insertRule(g.f + g.s, ss.cssRules.length || 0)
				}
				else if (ss.addRule) {
					ss.addRule(g.f, g.s, -1)
				}
				return ss
			}
			//$.hdS( css = "<link rel='stylesheet' href='/css/masterBlaster.css' type='text/css' media='screen'>" )
			$.d(400, 50).K('cssClass').pad(20).A(
					ip = $.ip('date'), $.p('pargraph').A($.sp('hifds')))
			//ip= $.ip('date').datepicker()
			//d1= $.dI('div', 'o', 400, 50).A($.sp('hifds'))
			// $.d().K('abc').A('this is a div')
			// $.d(500, 50).K('dd').A('this is a div')
			style = document.createElement('style')
			style.type = 'text/css'
			rule = '.cssClass {color: #F00;}'
			style.innerHTML = rule
			$('head').A(style)
			rl1 = '{ display:none; }'
			_.ru('.abc', '{background-color: white;color: orange}')
			_.ru('.abc', '{color: white; background-color: green;}')
			_.ru('.dd', '{background-color: white;color: orange}')
			$.ru('p', 'color:Orange')
		}
		CSS = function () {
			$.x()
			$.dK('cssClass', 400, 250).pad(20).A(ip = $.ip('date'),
					$.p('p').A($.sp('hifds'))
			).K('cssClass')
			$Ss('.cssClass' +
			'{' + $Ru.dec('color', 'blue')
			+ $Ru.dec('background-color', 'red')
			+ '}')
		};
		CSS.old = function () {
			CSS = function () {
				$.x(null, 'adds .cssClass.. see for yourself')
				ru = '.cssClass{color:#F00;}';
				ru1 = '{display:none;}'
				$.d(400, 50).K('cssClass').pad(20).A(
						ip = $.ip('date'), $.p('pargraph').A($.sp('hifds')))
				style = document.createElement('style');
				style.type = 'text/css'
				style.innerHTML = ru
				$('head').A(style)
				$l($.hd().oh())
			}
			CSS = function () {
				$.x()
				ru = '.cssClass{color:#F00;}'
				$.d(400, 50).K('cssClass').pad(20).A(
						ip = $.ip('date'),
						$.p('pargraph').A($.sp('hifds')))
				style = document.createElement('style');
				style.type = 'text/css'
				style.innerHTML = ru
				$('head').A(style)
				$l($.hd().oh())
			}
			CSS = function () {
				$.x()
				ru = '.cssClass{color:#F00;}'
				$.d(400, 50).K('cssClass').pad(20).A(
						ip = $.ip('date'),
						$.p('pargraph').A($.sp('hifds'))
				)
				style = $El('style')
				style.type = 'text/css'
				style.innerHTML = ru
				$.hd(style)
				$l($.hd().oh())
			}
			CSS = function () {
				$.x()
				$.d(400, 50).K('cssClass').pad(20).A(
						ip = $.ip('date'),
						$.p('pargraph')
								.A($.sp('hifds')))
				sty = $Sty(ru = '.cssClass{color:#F00;}')
				$.hd(sty)
				$l($.hd().oh())
			}
			CSS = function () {
				$.x()
				$.dK('cssClass', 400, 250).pad(20).A(
						ip = $.ip('date'),
						$.p('p').A(
								$.sp('hifds')
						)
				).K('cssClass')
				$Ss('.cssClass{color:yellow;background-color:green;}')
				$l($.hd())
				$l($.hd().oh())
				$l('-')
				$l(ip)
				$l(ip.oh())
			}
		}
		CSS = function () {
			$.x('sBr')
			$.dK('class',
					400, 250).pad(20).A(ip = $.ip('date'),
					$.p('p').A($.sp('hifds')))
			decBlk = $Ru.decBlk(
					$Ru.dec('color', 'blue'),
					$Ru.dec('background-color', 'magenta'))
			$Ss('.class' + decBlk)
			$.in(function () {
				h = $('head')
				$l(h.oh())
				$l(ch = h.children)
				c = h.children()
				l = _.l(c)
				q = $(l)
				$l('!!! -> ' + q.oh() + ' -> ' + q.text()
				)
			})
		}
		CSS = function () {
			$.x('sBr')
			$.dK('class',
					400, 250).pad(20).A(ip = $.ip('date'),
					$.p('p').A($.sp('hifds')))
			decBlk = $Ru.decBlk(
					$Ru.dec('color', 'blue'),
					$Ru.dec('background-color', 'magenta'))
			$Ss('.class' + decBlk)
			$.in(function () {
				h = $('head')
				$l(h.oh())
				$l(ch = h.children)
				c = h.children()
				l = _.l(c)
				q = $(l)
				$l('!!! -> ' + q.oh() + ' -> ' + q.text()
				)
			})
		}
		CSS = function () {
			$.x('wh')
			$.dK('k', 400, 250).pad(20).A(
					$.ip('date'),
					$.p('p').A($.sp('this should NOT be nonsense, mister j')))
			$Ru._rule = function (sel, decs, dec2) {
				var g = G(arguments)
				if (dec2) {
					decs = g.r
				}
				else if (!A(decs)) {
					decs = [decs]
				}
				return sel + this.decBlk.apply(this, decs)
			}
			$Sty($Ru._rule('.k',
					$Ru.dec('color', 'blue'),
					$Ru.dec('background-color', 'magenta')))
		}
		CSS = function () {
			$.x('ct')
			$.bt('afdsfadsfdfds')
			$.dK('k', 400, 250).pad(20).A(
					$.ip('date'),
					$.p('p').A($.sp('this should NOT be nonsense, mister j')))
			$Ru.rule(
					{sel: '.k', 'c': 'b', 'C': 'tq'},
					{sel: 'button', 'c': 'w', 'C': 'z', w: '30px', h: '50px'}
			)
		}
	}
	VIEWPORT = function () {
		
		// <meta name="viewport" content="initial-scale=1">
		// http://webdesign.tutsplus.com/articles/quick-tip-dont-forget-the-viewport-meta-tag--webdesign-5972
		//http://blog.javierusobiaga.com/stop-using-the-viewport-tag-until-you-know-ho
	}
	$CSS.mx.bpLarge = function (cont) {
		return ['@media only screen and (max-width: 400px)', cont
		]
	}
	$CSS.mx.bpMid = function (cont) {
		return ['@media only screen and (max-width: 600px)', cont
		]
	}
	$CSS.mx.bpSmall = function (cont) {
		return ['@media only screen and (max-width: 800px)', cont
		]
	}
}
//prevent iphone/ipad default scrolling

$(function(){

    $('body').on('touchmove', function(e){ e.preventDefault() })


})

MOBILECENTER=function(){
    z()
    $('body').C('u')
    d = $.div('o', 400, 200).A().drag().pad( 20 ).A(
        dd = $.div( 'u',  200 , 100 ).xCenter(),
        $.div( 'g',  100 , 80).xCenter( )
    ).P('r')}


MOBILETIPS=function(){

    z()

    $('body').C('u')

    $.div('b', 10, 10).drag()
    $.div('b', 10, 10).drag()
    $.div('b', 10, 10).drag()


    d = $.div('o', 400, 200).A().drag().pad( 20 )

    d.A(  $.h3( 'mobile tips').C( 'x' , 'w' )  )

    d.A(  $.h4( 'tip1:  First and foremost, screen sizes can vary greatly between different device categories as can screen resolutions and aspect ratios ').C( 'x', 't' )  )

    d.A(  $.h4( 'tip2:  If you want your HTML5 games to work well on mobile devices, you should make sure they either support multiple resolutions or don’t exceed the WVGA frame size of 800x480.').C( 'x', 't' )  )

    d.A(  $.h4( 'tip3: ').C( 'x' , 't' )  )

    d1 = $.div('p', 400, 200).A().drag().pad( 20 )

    d1.A(  $.h3( 'mobile devices  zoom and pan -  counterproductive for games. term them off with: viewport meta tag' ).C( 'x' , 'w' )  )

    d1.A(  $.h4(   "ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C( 'x', 't' )  )

    d1.A(  $.h4(  "ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C( 'x', 't' )  )

    d1.A(  $.h4( '<meta name="Viewport"content="width=device-width; user-scaleable=no; initial-scale=1.0" />').C( 'x' , 't' )  )

    d1.A(  $.h4(    '[ user-scaleable = no ] ->  disables pinch-zooming'  ).C( 'x' , 't' )  )

    d2 = $.div('g', 400, 200).A().drag().pad( 20 )

    d2.A(  $.h3( 'mobile tips').C( 'x' , 'w' )  )

    d2.A(  $.h4( 'tip1: ').C( 'x', 't' )  )

    d2.A(  $.h4( 'tip2: ').C( 'x', 't' )  )

    d2.A(  $.h4( 'tip3: ').C( 'x' , 't' )  )


}



H1=function(){
    z()

    rule = "h1 {  font-size: 40px;  margin-bottom: 20px;  margin-left: 20px; }"

    $.addStyle(rule)
    // HTML5.CSSRule(rule)
    $.h1('this is a big font').A()

}

H12=function(){
    z()


    rule = "h1 {  font-size: 22px; margin: bottom 10px;  @media (min-width:@screen-tablet) {font-size: 40px;   margin-bottom: 20px;   margin-left: 20px; } }"

    addStyle(rule)

    $h1('this is a small font').A()

}
BREAK=function(){z()


    addStyle( "h1 { @media (min-width:400px) {font-size: 10px;} }" )
    addStyle( "h1 { @media (max-width:400px) {font-size: 20px;} }" )
    // addStyle( "h1 { @media (min-width:1281px) {font-size: 40px;} }" )

    $.h1('afsdfdsasdf').A()
}
BREAK2=function(){


    // @media screen and (min-width: 600px) { .sixhundredminwidthclass {  width: 30%;  float: right;  } }

    //  @media screen and (max-width: 600px) {.sixhundredmaxwidth {  clear: both; font-size: 1.3em; } }

}
BREAK3=function(){z()
//works

    $.addStyle(

        "@media all and (min-width: 960px) { body {font-size: 80px;}  }",
        "@media all and (max-width: 959px) and (min-width: 600px) {body{font-size: 40px;}}",
        "@media all and (max-width: 599px) and (min-width: 320px) {body{font-size: 20px;}}"
    )

    $.addStyle(

        "@media all and (min-width: 960px) { body {color:blue;}  }",
        "@media all and (max-width: 959px) and (min-width: 600px) {body{color:red;}}",
        "@media all and (max-width: 599px) and (min-width: 320px) {body{color:yellow;}}"
    )


    $.span('fasd').A()

    $.h1('fasd').A() //doesnt respond
}





touchDrg=function(element){

    var q= $b( qq(element).q ).css({ position: 'absolute' }).on('touchstart',

        function(e){ $l('touchstart')

            var offset = $(this).offset(),
                deltaX = e.originalEvent.touches[0].pageX- offset.left,
                deltaY = e.originalEvent.touches[0].pageY - offset.top


            $l(deltaX + ' : ' + deltaY)

            $('html').on( 'touchmove' , function( e ){ $l('touchmove')

                q.css({ left: e.originalEvent.touches[0].pageX - deltaX , top: e.originalEvent.touches[0].pageY - deltaY }) })
                .on( 'touchend' , function(){ $l('touchstop'); $(this).off() })

        })

    return qq(element)

}
TOUCHSTART=function(){

    z()

    div = $.div('red', 100,200).A()

    touchDrg( div )
}
EASELTOUCH=function(){z()

    stage = cjs.stage(500).tick().A()

    //this lets it work on apple !!
    createjs.Touch.enable( stage  )

    stage.bm('me', SL)
    stage.bm('me', SL)
    stage.bm('me', SL)
    stage.bm('me', SL)
    stage.bm('me', SL)

    $.div('red',10000,10).A()

}




MOBILEHEADERS=function(){



}

//prevent iphone/ipad default scrolling
$(function(){
    $('body').on('touchmove', function(e){ e.preventDefault() })
})

MOBILECENTER=function(){$.x()
    $('body').C('u')
    d = $.d('o', 400, 200).A().drag().pad( 20 ).A(
        dd = $.d( 'u',  200 , 100 ).xCenter(),
        $.d( 'g',  100 , 80).xCenter( )
    ).P('r')
}


MOBILETIPS=function(){

    $.x()

    $('body').C('u')

    $.d('b', 10, 10).drag()
    $.d('b', 10, 10).drag()
    $.d('b', 10, 10).drag()


    d = $.d('o', 400, 200).A().drag().pad( 20 )

    d.A(  $.h3( 'mobile tips').C( 'x' , 'w' )  )

    d.A(  $.h4( 'tip1:  First and foremost, screen sizes can vary greatly between different device categories as can screen resolutions and aspect ratios ').C( 'x', 't' )  )

    d.A(  $.h4( 'tip2:  If you want your HTML5 games to work well on mobile devices, you should make sure they either support multiple resolutions or don’t exceed the WVGA frame size of 800x480.').C( 'x', 't' )  )

    d.A(  $.h4( 'tip3: ').C( 'x' , 't' )  )

    d1 = $.d('p', 400, 200).A().drag().pad( 20 )

    d1.A(  $.h3( 'mobile devices  zoom and pan -  counterproductive for games. term them off with: viewport meta tag' ).C( 'x' , 'w' )  )

    d1.A(  $.h4(   "ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C( 'x', 't' )  )

    d1.A(  $.h4(  "ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C( 'x', 't' )  )

    d1.A(  $.h4( '<meta name="Viewport"content="width=device-width; user-scaleable=no; initial-scale=1.0" />').C( 'x' , 't' )  )

    d1.A(  $.h4(    '[ user-scaleable = no ] ->  disables pinch-zooming'  ).C( 'x' , 't' )  )

    d2 = $.d('g', 400, 200).A().drag().pad( 20 )

    d2.A(  $.h3( 'mobile tips').C( 'x' , 'w' )  )

    d2.A(  $.h4( 'tip1: ').C( 'x', 't' )  )

    d2.A(  $.h4( 'tip2: ').C( 'x', 't' )  )

    d2.A(  $.h4( 'tip3: ').C( 'x' , 't' )  )


}
H1=function(){
    z()

    rule = "h1 {  font-size: 40px;  margin-bottom: 20px;  margin-left: 20px; }"

    $.addStyle(rule)
    // HTML5.CSSRule(rule)
    $.h1('this is a big font').A()

}
H12=function(){
    z()


    rule = "h1 {  font-size: 22px; margin: bottom 10px;  @media (min-width:@screen-tablet) {font-size: 40px;   margin-bottom: 20px;   margin-left: 20px; } }"

    addStyle(rule)

    $h1('this is a small font').A()

}
BREAK=function(){z()


    addStyle( "h1 { @media (min-width:400px) {font-size: 10px;} }" )
    addStyle( "h1 { @media (max-width:400px) {font-size: 20px;} }" )
    // addStyle( "h1 { @media (min-width:1281px) {font-size: 40px;} }" )

    $.h1('afsdfdsasdf').A()
}
BREAK2=function(){


    // @media screen and (min-width: 600px) { .sixhundredminwidthclass {  width: 30%;  float: right;  } }

    //  @media screen and (max-width: 600px) {.sixhundredmaxwidth {  clear: both; font-size: 1.3em; } }

}
BREAK3=function(){z()
//works

    $.addStyle(

        "@media all and (min-width: 960px) { body {font-size: 80px;}  }",
        "@media all and (max-width: 959px) and (min-width: 600px) {body{font-size: 40px;}}",
        "@media all and (max-width: 599px) and (min-width: 320px) {body{font-size: 20px;}}"
    )

    $.addStyle(

        "@media all and (min-width: 960px) { body {color:blue;}  }",
        "@media all and (max-width: 959px) and (min-width: 600px) {body{color:red;}}",
        "@media all and (max-width: 599px) and (min-width: 320px) {body{color:yellow;}}"
    )


    $.span('fasd').A()

    $.h1('fasd').A() //doesnt respond
}

touchDrg=function(element){

    var q= $b( qq(element).q ).css({ position: 'absolute' })
        .on('touchstart',
        function(e){ $l('touchstart')
            var offset = $(this).offset(),
                deltaX = e.originalEvent.touches[0].pageX- offset.left,
                deltaY = e.originalEvent.touches[0].pageY - offset.top
            $l(deltaX + ' : ' + deltaY)
            $('html').on( 'touchmove' , function( e ){ $l('touchmove')

                q.css({ left: e.originalEvent.touches[0].pageX - deltaX , top: e.originalEvent.touches[0].pageY - deltaY }) })
                .on( 'touchend' , function(){ $l('touchstop'); $(this).off() })

        })
    return  $(element)

}

TOUCHSTART=function(){$.x('x')
    div = $.d('red', 100,200).A()
    touchDrg( div )
}

EASELTOUCH=function(){z()

    stage = cjs.stage(500).tick().A()

    //this lets it work on apple !!
    cjs.Touch.enable( stage  )

    stage.bm('me', SL)
    stage.bm('me', SL)
    stage.bm('me', SL)
    stage.bm('me', SL)
    stage.bm('me', SL)

    $.d('red',10000,10).A()

}


MOBILEHEADERS=function(){}
bootMobile()
media()
function bootMobile(){

    $.xs = $.phones = function self(color, num) {
        if (N(color)) {
            return self(null, color)
        }
        var div = $.d()
        if (color) {
            div.C(color)
        }
        div.K('col-xs-' + num)
        return div
    }
    $.sml = $.tablets = function self(color, num) {
        if (N(color)) {
            return self(null, color)
        }
        var div = $.d()
        if (color) {
            div.C(color)
        }
        div.K('col-sm-' + num)
        return div
    }
    $.md = $.desktops = function self(color, num) {
        if (N(color)) {
            return self(null, color)
        }
        var div = $.d()
        if (color) {
            div.C(color)
        }
        div.K('col-md-' + num)
        return div
    }
    $.lg = $.largeDesktops = function (c, num) {
        if (N(c)) {
            return $.lg(null, c)
        }
        var d = $.dK('col-lg-' + num)
        if (c) {
            d.C(c)
        }
        return d
    }

}

function media(){
    MED=function(){
        /*



         @media screen and (min-width:600px) {        nav { float: left; width: 25%; }        section { margin-left: 25%; }      }

         @media screen and (max-width:599px) {        nav li { display: inline;  }          }




         */
    }
    VIEWPORT=function(){

        // <meta name="viewport" content="initial-scale=1">
        // http://webdesign.tutsplus.com/articles/quick-tip-dont-forget-the-viewport-meta-tag--webdesign-5972
        //http://blog.javierusobiaga.com/stop-using-the-viewport-tag-until-you-know-ho

    }
    $CSS.mx.bpLarge=function(cont){
        return ['@media only screen and (max-width: 400px)', cont
        ]}
    $CSS.mx.bpMid=function(cont){
        return ['@media only screen and (max-width: 600px)', cont
        ]}
    $CSS.mx.bpSmall=function(cont){
        return ['@media only screen and (max-width: 800px)', cont
        ]}


}
function hist() {
	hst = $w.history
	hst.b = hst.back
	hst.f = hst.forward
	hst.g = hst.go
	hst.l = hst.length
	nvg = navigator
	nvg.o = nvg.onLine
}
wnd = function (a) {
	var g = G(arguments), a = g[0]
	if (g.n) {
		return a.close()
	}
	return $w.open()
}
makeAllExtLinksOpenInNewWindows = function () {
	$("a[href^='http://']").attr('target', '_blank')
}
accessParentFrame = function () {
	frames[0].parent === $w
}
accessChildFrame = function () {
	frames[0].window.location.reload
}
accessTopFrame = function () {
	$w.frames[0].window.top === $w.top
}
accessFrameByName = function (f) {
	$w.frames[f] === $w.frames[0].location.reload
}
open = function (c) {
	$w.open(_S(c),
			'new_window', 'width=310,height=30')
}
//workers
jsBlob = function (f) {
	return new Blob(['(' + f.toString() + ')()'], {
		type: "text/javascript"
	})
}
function location() {
	$loc = function () {
		$w.location = $w.location// = rl
	}
	$rl = function () {
		location.reload(true) // = r
	}
	loc = $w.location
	loc.h = loc.href
	loc.hn = loc.hostname
	loc.ha = loc.hashn
	loc.H = loc.host
	loc.p = loc.port
	loc.pn = loc.pathname
	loc.P = loc.protocol
	loc.s = loc.search
	loc.rl = loc.reload
	loc.H = loc.host
	loc.rp = loc.replace
	loc.a = loc.assign
}
wrk = function (a) {
	cou = function (a) {
		return $w.URL.createObjectURL(a)
	}
	a = cou(jsBlob(a))
	var g = G(arguments),
			w = g.P ? new Worker(a) : new sharedWorker(a)
	w.t = w.terminate
	w.pm = w.postMessage
	w.m = function (f) {
		w.onmessage = f
	}
	return w
}
work = function () {
	w = wrk(function () {
		postMessage('hi')
	})
	w.m(function (e) {
		$l('Worker said: ' + e.data)
	})
}
function cookiesKeyGrip(){
	var Keygrip = require('keygrip')
	var http = require('http')
	var cache = {}
	
	function Cookies(request, response, keys) {
		if (!(this instanceof Cookies)) return new Cookies(request, response, keys)
		this.request = request
		this.response = response
		if (keys) {
			// array of key strings
			if (Array.isArray(keys))
				this.keys = new Keygrip(keys)
			// any keygrip constructor to allow different versions
			else if (keys.constructor && keys.constructor.name === 'Keygrip')
				this.keys = keys
		}
	}
	
	Cookies.prototype = {
		get: function (name, opts) {
			var sigName = name + ".sig",
					header, match, value, remote, data, index,
					signed = opts && opts.signed !== undefined ? opts.signed : !!this.keys
			header = this.request.headers["cookie"]
			if (!header) return
			match = header.match(getPattern(name))
			if (!match) return
			value = match[1]
			if (!opts || !signed) return value
			remote = this.get(sigName)
			if (!remote) return
			data = name + "=" + value
			if (!this.keys) throw new Error('.keys required for signed cookies');
			index = this.keys.index(data, remote)
			if (index < 0) {
				this.set(sigName, null, {path: "/", signed: false})
			}
			else {
				index && this.set(sigName, this.keys.sign(data), {signed: false})
				return value
			}
		},
		set: function (name, value, opts) {
			var res = this.response
					, req = this.request
					, headers = res.getHeader("Set-Cookie") || []
					, secure = req.protocol === 'https' || req.connection.encrypted
					, cookie = new Cookie(name, value, opts)
					, signed = opts && opts.signed !== undefined ? opts.signed : !!this.keys
			if (typeof headers == "string") headers = [headers]
			if (!secure && opts && opts.secure) {
				throw new Error('Cannot send secure cookie over unencrypted connection')
			}
			cookie.secure = secure
			if (opts && "secure" in opts) cookie.secure = opts.secure
			if (opts && "secureProxy" in opts) cookie.secure = opts.secureProxy
			headers = pushCookie(headers, cookie)
			if (opts && signed) {
				if (!this.keys) throw new Error('.keys required for signed cookies');
				cookie.value = this.keys.sign(cookie.toString())
				cookie.name += ".sig"
				headers = pushCookie(headers, cookie)
			}
			var setHeader = res.set ? http.OutgoingMessage.prototype.setHeader : res.setHeader
			setHeader.call(res, 'Set-Cookie', headers)
			return this
		}
	}
	function Cookie(name, value, attrs) {
		value || (this.expires = new Date(0))
		this.name = name
		this.value = value || ""
		for (var name in attrs) this[name] = attrs[name]
	}
	
	Cookie.prototype = {
		path: "/",
		expires: undefined,
		domain: undefined,
		httpOnly: true,
		secure: false,
		overwrite: false,
		toString: function () {
			return this.name + "=" + this.value
		},
		toHeader: function () {
			var header = this.toString()
			if (this.maxAge) this.expires = new Date(Date.now() + this.maxAge);
			if (this.path) header += "; path=" + this.path
			if (this.expires) header += "; expires=" + this.expires.toUTCString()
			if (this.domain) header += "; domain=" + this.domain
			if (this.secure) header += "; secure"
			if (this.httpOnly) header += "; httponly"
			return header
		}
	}
// back-compat so maxage mirrors maxAge
	Object.defineProperty(Cookie.prototype, 'maxage', {
		configurable: true,
		enumerable: true,
		get: function () {
			return this.maxAge
		},
		set: function (val) {
			return this.maxAge = val
		}
	})
	function getPattern(name) {
		if (cache[name]) return cache[name]
		return cache[name] = new RegExp(
				"(?:^|;) *" +
				name.replace(/[-[\]{}()*+?.,\\^$|#\s]/g, "\\$&") +
				"=([^;]*)")
	}
	
	function pushCookie(cookies, cookie) {
		if (cookie.overwrite) {
			cookies = cookies.filter(function (c) {
				return c.indexOf(cookie.name + '=') !== 0
			})
		}
		cookies.push(cookie.toHeader())
		return cookies
	}
	
	Cookies.connect = Cookies.express = function (keys) {
		return function (req, res, next) {
			req.cookies = res.cookies = new Cookies(req, res, keys)
			next()
		}
	}
	Cookies.Cookie = Cookie
	module.exports = Cookies
}
//prevent iphone/ipad default scrolling

$(function(){

    $('body').on('touchmove', function(e){ e.preventDefault() })


})

MOBILECENTER=function(){
    z()
    $('body').C('u')
    d = $.div('o', 400, 200).A().drag().pad( 20 ).A(
        dd = $.div( 'u',  200 , 100 ).xCenter(),
        $.div( 'g',  100 , 80).xCenter( )
    ).P('r')}


MOBILETIPS=function(){

    z()

    $('body').C('u')

    $.div('b', 10, 10).drag()
    $.div('b', 10, 10).drag()
    $.div('b', 10, 10).drag()


    d = $.div('o', 400, 200).A().drag().pad( 20 )

    d.A(  $.h3( 'mobile tips').C( 'x' , 'w' )  )

    d.A(  $.h4( 'tip1:  First and foremost, screen sizes can vary greatly between different device categories as can screen resolutions and aspect ratios ').C( 'x', 't' )  )

    d.A(  $.h4( 'tip2:  If you want your HTML5 games to work well on mobile devices, you should make sure they either support multiple resolutions or don’t exceed the WVGA frame size of 800x480.').C( 'x', 't' )  )

    d.A(  $.h4( 'tip3: ').C( 'x' , 't' )  )

    d1 = $.div('p', 400, 200).A().drag().pad( 20 )

    d1.A(  $.h3( 'mobile devices  zoom and pan -  counterproductive for games. term them off with: viewport meta tag' ).C( 'x' , 'w' )  )

    d1.A(  $.h4(   "ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C( 'x', 't' )  )

    d1.A(  $.h4(  "ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C( 'x', 't' )  )

    d1.A(  $.h4( '<meta name="Viewport"content="width=device-width; user-scaleable=no; initial-scale=1.0" />').C( 'x' , 't' )  )

    d1.A(  $.h4(    '[ user-scaleable = no ] ->  disables pinch-zooming'  ).C( 'x' , 't' )  )

    d2 = $.div('g', 400, 200).A().drag().pad( 20 )

    d2.A(  $.h3( 'mobile tips').C( 'x' , 'w' )  )

    d2.A(  $.h4( 'tip1: ').C( 'x', 't' )  )

    d2.A(  $.h4( 'tip2: ').C( 'x', 't' )  )

    d2.A(  $.h4( 'tip3: ').C( 'x' , 't' )  )


}



H1=function(){
    z()

    rule = "h1 {  font-size: 40px;  margin-bottom: 20px;  margin-left: 20px; }"

    $.addStyle(rule)
    // HTML5.CSSRule(rule)
    $.h1('this is a big font').A()

}

H12=function(){
    z()


    rule = "h1 {  font-size: 22px; margin: bottom 10px;  @media (min-width:@screen-tablet) {font-size: 40px;   margin-bottom: 20px;   margin-left: 20px; } }"

    addStyle(rule)

    $h1('this is a small font').A()

}
BREAK=function(){z()


    addStyle( "h1 { @media (min-width:400px) {font-size: 10px;} }" )
    addStyle( "h1 { @media (max-width:400px) {font-size: 20px;} }" )
    // addStyle( "h1 { @media (min-width:1281px) {font-size: 40px;} }" )

    $.h1('afsdfdsasdf').A()
}
BREAK2=function(){


    // @media screen and (min-width: 600px) { .sixhundredminwidthclass {  width: 30%;  float: right;  } }

    //  @media screen and (max-width: 600px) {.sixhundredmaxwidth {  clear: both; font-size: 1.3em; } }

}
BREAK3=function(){z()
//works

    $.addStyle(

        "@media all and (min-width: 960px) { body {font-size: 80px;}  }",
        "@media all and (max-width: 959px) and (min-width: 600px) {body{font-size: 40px;}}",
        "@media all and (max-width: 599px) and (min-width: 320px) {body{font-size: 20px;}}"
    )

    $.addStyle(

        "@media all and (min-width: 960px) { body {color:blue;}  }",
        "@media all and (max-width: 959px) and (min-width: 600px) {body{color:red;}}",
        "@media all and (max-width: 599px) and (min-width: 320px) {body{color:yellow;}}"
    )


    $.span('fasd').A()

    $.h1('fasd').A() //doesnt respond
}



function iFrames(){
	_.iWd = function (a) {//Wd=
		if (O(a)) {
			if (s$(a).contains('Window') ||
					s$(a[0]).contains('Window')) {
				return window
			}
		}
	}
	$.rl = $.reload = function () {
		window.location = window.location
	}
	wnd = function (a) {
		var g = G(arguments), a = g[0]
		if (g.n) {
			return a.close()
		}
		return $w.open()
	}
	makeAllExtLinksOpenInNewWindows = function () {
		$("a[href^='http://']").attr('target', '_blank')
	}
	accessParentFrame = function () {
		frames[0].parent === $w
	}
	accessChildFrame = function () {
		frames[0].window.location.reload
	}
	accessTopFrame = function () {
		$w.frames[0].window.top === $w.top
	}
	accessFrameByName = function (f) {
		$w.frames[f] === $w.frames[0].location.reload
	}
	open = function (c) {
		$w.open(_S(c), 'new_window', 'width=310,height=30')
	}
	scr = function (a) {
		var s = screen
		if (a) {
			return {
				w: s.width, h: s.height,
				aw: s.availWidth, ah: s.availHeight,
				at: s.availTop, al: s.availLeft
			}
		}
		var o = {w: W(), h: H()}
		o.c = o.w + ', ' + o.h, o.t = 'screen size: ' + o.c
		return o
	}
	wds = function () {
		_.iWd = function (a) {//Wd=
			if (O(a)) {
				if (s$(a).contains('Window') ||
						s$(a[0]).contains('Window')) {
					return window
				}
			}
		}
		$.rl = $.reload = function () {
			window.location = window.location
		}
		wnd = function (a) {
			var g = G(arguments), a = g[0]
			if (g.n) {
				return a.close()
			}
			return $w.open()
		}
		makeAllExtLinksOpenInNewWindows = function () {
			$("a[href^='http://']").attr('target', '_blank')
		}
		accessParentFrame = function () {
			frames[0].parent === $w
		}
		accessChildFrame = function () {
			frames[0].window.location.reload
		}
		accessTopFrame = function () {
			$w.frames[0].window.top === $w.top
		}
		accessFrameByName = function (f) {
			$w.frames[f] === $w.frames[0].location.reload
		}
		open = function (c) {
			$w.open(_S(c), 'new_window', 'width=310,height=30')
		}
	};
	wds()
}

touchDrg=function(element){

    var q= $b( qq(element).q ).css({ position: 'absolute' }).on('touchstart',

        function(e){ $l('touchstart')

            var offset = $(this).offset(),
                deltaX = e.originalEvent.touches[0].pageX- offset.left,
                deltaY = e.originalEvent.touches[0].pageY - offset.top


            $l(deltaX + ' : ' + deltaY)

            $('html').on( 'touchmove' , function( e ){ $l('touchmove')

                q.css({ left: e.originalEvent.touches[0].pageX - deltaX , top: e.originalEvent.touches[0].pageY - deltaY }) })
                .on( 'touchend' , function(){ $l('touchstop'); $(this).off() })

        })

    return qq(element)

}
TOUCHSTART=function(){

    z()

    div = $.div('red', 100,200).A()

    touchDrg( div )
}
EASELTOUCH=function(){z()

    stage = cjs.stage(500).tick().A()

    //this lets it work on apple !!
    createjs.Touch.enable( stage  )

    stage.bm('me', SL)
    stage.bm('me', SL)
    stage.bm('me', SL)
    stage.bm('me', SL)
    stage.bm('me', SL)

    $.div('red',10000,10).A()

}




MOBILEHEADERS=function(){



}


function dittoMaybe(){//prevent iphone/ipad default scrolling
    $(function(){
        $('body').on('touchmove', function(e){ e.preventDefault() })
    })

    MOBILECENTER=function(){$.x()
        $('body').C('u')
        d = $.d('o', 400, 200).A().drag().pad( 20 ).A(
            dd = $.d( 'u',  200 , 100 ).xCenter(),
            $.d( 'g',  100 , 80).xCenter( )
        ).P('r')
    }


    MOBILETIPS=function(){

        $.x()

        $('body').C('u')

        $.d('b', 10, 10).drag()
        $.d('b', 10, 10).drag()
        $.d('b', 10, 10).drag()


        d = $.d('o', 400, 200).A().drag().pad( 20 )

        d.A(  $.h3( 'mobile tips').C( 'x' , 'w' )  )

        d.A(  $.h4( 'tip1:  First and foremost, screen sizes can vary greatly between different device categories as can screen resolutions and aspect ratios ').C( 'x', 't' )  )

        d.A(  $.h4( 'tip2:  If you want your HTML5 games to work well on mobile devices, you should make sure they either support multiple resolutions or don’t exceed the WVGA frame size of 800x480.').C( 'x', 't' )  )

        d.A(  $.h4( 'tip3: ').C( 'x' , 't' )  )

        d1 = $.d('p', 400, 200).A().drag().pad( 20 )

        d1.A(  $.h3( 'mobile devices  zoom and pan -  counterproductive for games. term them off with: viewport meta tag' ).C( 'x' , 'w' )  )

        d1.A(  $.h4(   "ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C( 'x', 't' )  )

        d1.A(  $.h4(  "ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C( 'x', 't' )  )

        d1.A(  $.h4( '<meta name="Viewport"content="width=device-width; user-scaleable=no; initial-scale=1.0" />').C( 'x' , 't' )  )

        d1.A(  $.h4(    '[ user-scaleable = no ] ->  disables pinch-zooming'  ).C( 'x' , 't' )  )

        d2 = $.d('g', 400, 200).A().drag().pad( 20 )

        d2.A(  $.h3( 'mobile tips').C( 'x' , 'w' )  )

        d2.A(  $.h4( 'tip1: ').C( 'x', 't' )  )

        d2.A(  $.h4( 'tip2: ').C( 'x', 't' )  )

        d2.A(  $.h4( 'tip3: ').C( 'x' , 't' )  )


    }
    H1=function(){
        z()

        rule = "h1 {  font-size: 40px;  margin-bottom: 20px;  margin-left: 20px; }"

        $.addStyle(rule)
        // HTML5.CSSRule(rule)
        $.h1('this is a big font').A()

    }
    H12=function(){
        z()


        rule = "h1 {  font-size: 22px; margin: bottom 10px;  @media (min-width:@screen-tablet) {font-size: 40px;   margin-bottom: 20px;   margin-left: 20px; } }"

        addStyle(rule)

        $h1('this is a small font').A()

    }
    BREAK=function(){z()


        addStyle( "h1 { @media (min-width:400px) {font-size: 10px;} }" )
        addStyle( "h1 { @media (max-width:400px) {font-size: 20px;} }" )
        // addStyle( "h1 { @media (min-width:1281px) {font-size: 40px;} }" )

        $.h1('afsdfdsasdf').A()
    }
    BREAK2=function(){


        // @media screen and (min-width: 600px) { .sixhundredminwidthclass {  width: 30%;  float: right;  } }

        //  @media screen and (max-width: 600px) {.sixhundredmaxwidth {  clear: both; font-size: 1.3em; } }

    }
    BREAK3=function(){z()
//works

        $.addStyle(

            "@media all and (min-width: 960px) { body {font-size: 80px;}  }",
            "@media all and (max-width: 959px) and (min-width: 600px) {body{font-size: 40px;}}",
            "@media all and (max-width: 599px) and (min-width: 320px) {body{font-size: 20px;}}"
        )

        $.addStyle(

            "@media all and (min-width: 960px) { body {color:blue;}  }",
            "@media all and (max-width: 959px) and (min-width: 600px) {body{color:red;}}",
            "@media all and (max-width: 599px) and (min-width: 320px) {body{color:yellow;}}"
        )


        $.span('fasd').A()

        $.h1('fasd').A() //doesnt respond
    }

    touchDrg=function(element){

        var q= $b( qq(element).q ).css({ position: 'absolute' })
            .on('touchstart',
            function(e){ $l('touchstart')
                var offset = $(this).offset(),
                    deltaX = e.originalEvent.touches[0].pageX- offset.left,
                    deltaY = e.originalEvent.touches[0].pageY - offset.top
                $l(deltaX + ' : ' + deltaY)
                $('html').on( 'touchmove' , function( e ){ $l('touchmove')

                    q.css({ left: e.originalEvent.touches[0].pageX - deltaX , top: e.originalEvent.touches[0].pageY - deltaY }) })
                    .on( 'touchend' , function(){ $l('touchstop'); $(this).off() })

            })
        return  $(element)

    }

    TOUCHSTART=function(){$.x('x')
        div = $.d('red', 100,200).A()
        touchDrg( div )
    }

    EASELTOUCH=function(){z()

        stage = cjs.stage(500).tick().A()

        //this lets it work on apple !!
        cjs.Touch.enable( stage  )

        stage.bm('me', SL)
        stage.bm('me', SL)
        stage.bm('me', SL)
        stage.bm('me', SL)
        stage.bm('me', SL)

        $.d('red',10000,10).A()

    }


    MOBILEHEADERS=function(){}
}

function dittoFoSho(){
	
	//prevent iphone/ipad default scrolling
	$(
		function(){
			$('body').on('touchmove',function(e){ e.preventDefault() })
		}
	)
	MOBILECENTER=function(){
		z()
		$('body').C('u')
		d=$.div('o',400,200).A().drag().pad(20).A(
			dd=$.div('u',200,100).xCenter(),
			$.div('g',100,80).xCenter()
		).P('r')
	}
	MOBILETIPS=function(){
		z()
		$('body').C('u')
		$.div('b',10,10).drag()
		$.div('b',10,10).drag()
		$.div('b',10,10).drag()
		d=$.div('o',400,200).A().drag().pad(20)
		d.A($.h3('mobile tips').C('x','w'))
		d.A($.h4('tip1:  First and foremost, screen sizes can vary greatly between different device categories as can screen resolutions and aspect ratios ').C('x','t'))
		d.A($.h4('tip2:  If you want your HTML5 games to work well on mobile devices, you should make sure they either support multiple resolutions or don’t exceed the WVGA frame size of 800x480.').C('x','t'))
		d.A($.h4('tip3: ').C('x','t'))
		d1=$.div('p',400,200).A().drag().pad(20)
		d1.A($.h3('mobile devices  zoom and pan -  counterproductive for games. term them off with: viewport meta tag').C('x','w'))
		d1.A($.h4("ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C('x','t'))
		d1.A($.h4("ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C('x','t'))
		d1.A($.h4('<meta name="Viewport"content="width=device-width; user-scaleable=no; initial-scale=1.0" />').C('x','t'))
		d1.A($.h4('[ user-scaleable = no ] ->  disables pinch-zooming').C('x','t'))
		d2=$.div('g',400,200).A().drag().pad(20)
		d2.A($.h3('mobile tips').C('x','w'))
		d2.A($.h4('tip1: ').C('x','t'))
		d2.A($.h4('tip2: ').C('x','t'))
		d2.A($.h4('tip3: ').C('x','t'))
	}
	H1=function(){
		z()
		rule="h1 {  font-size: 40px;  margin-bottom: 20px;  margin-left: 20px; }"
		$.addStyle(rule)
		// HTML5.CSSRule(rule)
		$.h1('this is a big font').A()
	}
	H12=function(){
		z()
		rule="h1 {  font-size: 22px; margin: bottom 10px;  @media (min-width:@screen-tablet) {font-size: 40px;   margin-bottom: 20px;   margin-left: 20px; } }"
		addStyle(rule)
		$h1('this is a small font').A()
	}
	BREAK=function(){
		z()
		addStyle("h1 { @media (min-width:400px) {font-size: 10px;} }")
		addStyle("h1 { @media (max-width:400px) {font-size: 20px;} }")
		// addStyle( "h1 { @media (min-width:1281px) {font-size: 40px;} }" )
		$.h1('afsdfdsasdf').A()
	}
	BREAK2=function(){
		
		
		// @media screen and (min-width: 600px) { .sixhundredminwidthclass {  width: 30%;  float: right;  } }
		//  @media screen and (max-width: 600px) {.sixhundredmaxwidth {  clear: both; font-size: 1.3em; } }
	}
	BREAK3=function(){
		z()
		//works
		$.addStyle(
			"@media all and (min-width: 960px) { body {font-size: 80px;}  }",
			"@media all and (max-width: 959px) and (min-width: 600px) {body{font-size: 40px;}}",
			"@media all and (max-width: 599px) and (min-width: 320px) {body{font-size: 20px;}}"
		)
		$.addStyle(
			"@media all and (min-width: 960px) { body {color:blue;}  }",
			"@media all and (max-width: 959px) and (min-width: 600px) {body{color:red;}}",
			"@media all and (max-width: 599px) and (min-width: 320px) {body{color:yellow;}}"
		)
		$.span('fasd').A()
		$.h1('fasd').A() //doesnt respond
	}
	touchDrg=function(element){
		var q=$b(qq(element).q).css({position:'absolute'}).on(
			'touchstart',
			function(e){
				$l('touchstart')
				var offset=$(this).offset(),
					deltaX=e.originalEvent.touches[0].pageX-offset.left,
					deltaY=e.originalEvent.touches[0].pageY-offset.top
				$l(deltaX+' : '+deltaY)
				$('html').on(
					'touchmove',function(e){
						$l('touchmove')
						q.css({left:e.originalEvent.touches[0].pageX-deltaX,top:e.originalEvent.touches[0].pageY-deltaY})
					}
				)
					.on(
					'touchend',function(){
						$l('touchstop');
						$(this).off()
					}
				)
			}
		)
		return qq(element)
	}
	TOUCHSTART=function(){
		z()
		div=$.div('red',100,200).A()
		touchDrg(div)
	}
	EASELTOUCH=function(){
		z()
		stage=cjs.stage(500).tick().A()
		//this lets it work on apple !!
		createjs.Touch.enable(stage)
		stage.bm('me',SL)
		stage.bm('me',SL)
		stage.bm('me',SL)
		stage.bm('me',SL)
		stage.bm('me',SL)
		$.div('red',10000,10).A()
	}
	MOBILEHEADERS=function(){
	}
	//prevent iphone/ipad default scrolling
	$(
		function(){
			$('body').on('touchmove',function(e){ e.preventDefault() })
		}
	)
	MOBILECENTER=function(){
		$.x()
		$('body').C('u')
		d=$.d('o',400,200).A().drag().pad(20).A(
			dd=$.d('u',200,100).xCenter(),
			$.d('g',100,80).xCenter()
		).P('r')
	}
	MOBILETIPS=function(){
		$.x()
		$('body').C('u')
		$.d('b',10,10).drag()
		$.d('b',10,10).drag()
		$.d('b',10,10).drag()
		d=$.d('o',400,200).A().drag().pad(20)
		d.A($.h3('mobile tips').C('x','w'))
		d.A($.h4('tip1:  First and foremost, screen sizes can vary greatly between different device categories as can screen resolutions and aspect ratios ').C('x','t'))
		d.A($.h4('tip2:  If you want your HTML5 games to work well on mobile devices, you should make sure they either support multiple resolutions or don’t exceed the WVGA frame size of 800x480.').C('x','t'))
		d.A($.h4('tip3: ').C('x','t'))
		d1=$.d('p',400,200).A().drag().pad(20)
		d1.A($.h3('mobile devices  zoom and pan -  counterproductive for games. term them off with: viewport meta tag').C('x','w'))
		d1.A($.h4("ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C('x','t'))
		d1.A($.h4("ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C('x','t'))
		d1.A($.h4('<meta name="Viewport"content="width=device-width; user-scaleable=no; initial-scale=1.0" />').C('x','t'))
		d1.A($.h4('[ user-scaleable = no ] ->  disables pinch-zooming').C('x','t'))
		d2=$.d('g',400,200).A().drag().pad(20)
		d2.A($.h3('mobile tips').C('x','w'))
		d2.A($.h4('tip1: ').C('x','t'))
		d2.A($.h4('tip2: ').C('x','t'))
		d2.A($.h4('tip3: ').C('x','t'))
	}
	H1=function(){
		z()
		rule="h1 {  font-size: 40px;  margin-bottom: 20px;  margin-left: 20px; }"
		$.addStyle(rule)
		// HTML5.CSSRule(rule)
		$.h1('this is a big font').A()
	}
	H12=function(){
		z()
		rule="h1 {  font-size: 22px; margin: bottom 10px;  @media (min-width:@screen-tablet) {font-size: 40px;   margin-bottom: 20px;   margin-left: 20px; } }"
		addStyle(rule)
		$h1('this is a small font').A()
	}
	BREAK=function(){
		z()
		addStyle("h1 { @media (min-width:400px) {font-size: 10px;} }")
		addStyle("h1 { @media (max-width:400px) {font-size: 20px;} }")
		// addStyle( "h1 { @media (min-width:1281px) {font-size: 40px;} }" )
		$.h1('afsdfdsasdf').A()
	}
	BREAK2=function(){
		
		
		// @media screen and (min-width: 600px) { .sixhundredminwidthclass {  width: 30%;  float: right;  } }
		//  @media screen and (max-width: 600px) {.sixhundredmaxwidth {  clear: both; font-size: 1.3em; } }
	}
	BREAK3=function(){
		z()
		//works
		$.addStyle(
			"@media all and (min-width: 960px) { body {font-size: 80px;}  }",
			"@media all and (max-width: 959px) and (min-width: 600px) {body{font-size: 40px;}}",
			"@media all and (max-width: 599px) and (min-width: 320px) {body{font-size: 20px;}}"
		)
		$.addStyle(
			"@media all and (min-width: 960px) { body {color:blue;}  }",
			"@media all and (max-width: 959px) and (min-width: 600px) {body{color:red;}}",
			"@media all and (max-width: 599px) and (min-width: 320px) {body{color:yellow;}}"
		)
		$.span('fasd').A()
		$.h1('fasd').A() //doesnt respond
	}
	touchDrg=function(element){
		var q=$b(qq(element).q).css({position:'absolute'})
			.on(
			'touchstart',
			function(e){
				$l('touchstart')
				var offset=$(this).offset(),
					deltaX=e.originalEvent.touches[0].pageX-offset.left,
					deltaY=e.originalEvent.touches[0].pageY-offset.top
				$l(deltaX+' : '+deltaY)
				$('html').on(
					'touchmove',function(e){
						$l('touchmove')
						q.css({left:e.originalEvent.touches[0].pageX-deltaX,top:e.originalEvent.touches[0].pageY-deltaY})
					}
				)
					.on(
					'touchend',function(){
						$l('touchstop');
						$(this).off()
					}
				)
			}
		)
		return $(element)
	}
	TOUCHSTART=function(){
		$.x('x')
		div=$.d('red',100,200).A()
		touchDrg(div)
	}
	EASELTOUCH=function(){
		z()
		stage=cjs.stage(500).tick().A()
		//this lets it work on apple !!
		cjs.Touch.enable(stage)
		stage.bm('me',SL)
		stage.bm('me',SL)
		stage.bm('me',SL)
		stage.bm('me',SL)
		stage.bm('me',SL)
		$.d('red',10000,10).A()
	}
	MOBILEHEADERS=function(){}
	bootMobile()
	media()
	function bootMobile(){
		$.xs=$.phones=function self(color,num){
			if(N(color)){
				return self(null,color)
			}
			var div=$.d()
			if(color){
				div.C(color)
			}
			div.K('col-xs-'+num)
			return div
		}
		$.sml=$.tablets=function self(color,num){
			if(N(color)){
				return self(null,color)
			}
			var div=$.d()
			if(color){
				div.C(color)
			}
			div.K('col-sm-'+num)
			return div
		}
		$.md=$.desktops=function self(color,num){
			if(N(color)){
				return self(null,color)
			}
			var div=$.d()
			if(color){
				div.C(color)
			}
			div.K('col-md-'+num)
			return div
		}
		$.lg=$.largeDesktops=function(c,num){
			if(N(c)){
				return $.lg(null,c)
			}
			var d=$.dK('col-lg-'+num)
			if(c){
				d.C(c)
			}
			return d
		}
	}
	
	function media(){
		MED=function(){
			/*
	
	
	
			 @media screen and (min-width:600px) {        nav { float: left; width: 25%; }        section { margin-left: 25%; }      }
	
			 @media screen and (max-width:599px) {        nav li { display: inline;  }          }
	
	
	
	
			 */
		}
		VIEWPORT=function(){
			
			// <meta name="viewport" content="initial-scale=1">
			// http://webdesign.tutsplus.com/articles/quick-tip-dont-forget-the-viewport-meta-tag--webdesign-5972
			//http://blog.javierusobiaga.com/stop-using-the-viewport-tag-until-you-know-ho
		}
		$CSS.mx.bpLarge=function(cont){
			return [
				'@media only screen and (max-width: 400px)',cont
			]
		}
		$CSS.mx.bpMid=function(cont){
			return [
				'@media only screen and (max-width: 600px)',cont
			]
		}
		$CSS.mx.bpSmall=function(cont){
			return [
				'@media only screen and (max-width: 800px)',cont
			]
		}
	}
	
	//prevent iphone/ipad default scrolling
	$(
		function(){
			$('body').on('touchmove',function(e){ e.preventDefault() })
		}
	)
	MOBILECENTER=function(){
		z()
		$('body').C('u')
		d=$.div('o',400,200).A().drag().pad(20).A(
			dd=$.div('u',200,100).xCenter(),
			$.div('g',100,80).xCenter()
		).P('r')
	}
	MOBILETIPS=function(){
		z()
		$('body').C('u')
		$.div('b',10,10).drag()
		$.div('b',10,10).drag()
		$.div('b',10,10).drag()
		d=$.div('o',400,200).A().drag().pad(20)
		d.A($.h3('mobile tips').C('x','w'))
		d.A($.h4('tip1:  First and foremost, screen sizes can vary greatly between different device categories as can screen resolutions and aspect ratios ').C('x','t'))
		d.A($.h4('tip2:  If you want your HTML5 games to work well on mobile devices, you should make sure they either support multiple resolutions or don’t exceed the WVGA frame size of 800x480.').C('x','t'))
		d.A($.h4('tip3: ').C('x','t'))
		d1=$.div('p',400,200).A().drag().pad(20)
		d1.A($.h3('mobile devices  zoom and pan -  counterproductive for games. term them off with: viewport meta tag').C('x','w'))
		d1.A($.h4("ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C('x','t'))
		d1.A($.h4("ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C('x','t'))
		d1.A($.h4('<meta name="Viewport"content="width=device-width; user-scaleable=no; initial-scale=1.0" />').C('x','t'))
		d1.A($.h4('[ user-scaleable = no ] ->  disables pinch-zooming').C('x','t'))
		d2=$.div('g',400,200).A().drag().pad(20)
		d2.A($.h3('mobile tips').C('x','w'))
		d2.A($.h4('tip1: ').C('x','t'))
		d2.A($.h4('tip2: ').C('x','t'))
		d2.A($.h4('tip3: ').C('x','t'))
	}
	H1=function(){
		z()
		rule="h1 {  font-size: 40px;  margin-bottom: 20px;  margin-left: 20px; }"
		$.addStyle(rule)
		// HTML5.CSSRule(rule)
		$.h1('this is a big font').A()
	}
	H12=function(){
		z()
		rule="h1 {  font-size: 22px; margin: bottom 10px;  @media (min-width:@screen-tablet) {font-size: 40px;   margin-bottom: 20px;   margin-left: 20px; } }"
		addStyle(rule)
		$h1('this is a small font').A()
	}
	BREAK=function(){
		z()
		addStyle("h1 { @media (min-width:400px) {font-size: 10px;} }")
		addStyle("h1 { @media (max-width:400px) {font-size: 20px;} }")
		// addStyle( "h1 { @media (min-width:1281px) {font-size: 40px;} }" )
		$.h1('afsdfdsasdf').A()
	}
	BREAK2=function(){
		
		
		// @media screen and (min-width: 600px) { .sixhundredminwidthclass {  width: 30%;  float: right;  } }
		//  @media screen and (max-width: 600px) {.sixhundredmaxwidth {  clear: both; font-size: 1.3em; } }
	}
	BREAK3=function(){
		z()
		//works
		$.addStyle(
			"@media all and (min-width: 960px) { body {font-size: 80px;}  }",
			"@media all and (max-width: 959px) and (min-width: 600px) {body{font-size: 40px;}}",
			"@media all and (max-width: 599px) and (min-width: 320px) {body{font-size: 20px;}}"
		)
		$.addStyle(
			"@media all and (min-width: 960px) { body {color:blue;}  }",
			"@media all and (max-width: 959px) and (min-width: 600px) {body{color:red;}}",
			"@media all and (max-width: 599px) and (min-width: 320px) {body{color:yellow;}}"
		)
		$.span('fasd').A()
		$.h1('fasd').A() //doesnt respond
	}
	touchDrg=function(element){
		var q=$b(qq(element).q).css({position:'absolute'}).on(
			'touchstart',
			function(e){
				$l('touchstart')
				var offset=$(this).offset(),
					deltaX=e.originalEvent.touches[0].pageX-offset.left,
					deltaY=e.originalEvent.touches[0].pageY-offset.top
				$l(deltaX+' : '+deltaY)
				$('html').on(
					'touchmove',function(e){
						$l('touchmove')
						q.css({left:e.originalEvent.touches[0].pageX-deltaX,top:e.originalEvent.touches[0].pageY-deltaY})
					}
				)
					.on(
					'touchend',function(){
						$l('touchstop');
						$(this).off()
					}
				)
			}
		)
		return qq(element)
	}
	TOUCHSTART=function(){
		z()
		div=$.div('red',100,200).A()
		touchDrg(div)
	}
	EASELTOUCH=function(){
		z()
		stage=cjs.stage(500).tick().A()
		//this lets it work on apple !!
		createjs.Touch.enable(stage)
		stage.bm('me',SL)
		stage.bm('me',SL)
		stage.bm('me',SL)
		stage.bm('me',SL)
		stage.bm('me',SL)
		$.div('red',10000,10).A()
	}
	MOBILEHEADERS=function(){
	}
	function dittoMaybe(){//prevent iphone/ipad default scrolling
		$(
			function(){
				$('body').on('touchmove',function(e){ e.preventDefault() })
			}
		)
		MOBILECENTER=function(){
			$.x()
			$('body').C('u')
			d=$.d('o',400,200).A().drag().pad(20).A(
				dd=$.d('u',200,100).xCenter(),
				$.d('g',100,80).xCenter()
			).P('r')
		}
		MOBILETIPS=function(){
			$.x()
			$('body').C('u')
			$.d('b',10,10).drag()
			$.d('b',10,10).drag()
			$.d('b',10,10).drag()
			d=$.d('o',400,200).A().drag().pad(20)
			d.A($.h3('mobile tips').C('x','w'))
			d.A($.h4('tip1:  First and foremost, screen sizes can vary greatly between different device categories as can screen resolutions and aspect ratios ').C('x','t'))
			d.A($.h4('tip2:  If you want your HTML5 games to work well on mobile devices, you should make sure they either support multiple resolutions or don’t exceed the WVGA frame size of 800x480.').C('x','t'))
			d.A($.h4('tip3: ').C('x','t'))
			d1=$.d('p',400,200).A().drag().pad(20)
			d1.A($.h3('mobile devices  zoom and pan -  counterproductive for games. term them off with: viewport meta tag').C('x','w'))
			d1.A($.h4("ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C('x','t'))
			d1.A($.h4("ex: cause your game’s viewport to occupy all of the available horizontal screen real estate.").C('x','t'))
			d1.A($.h4('<meta name="Viewport"content="width=device-width; user-scaleable=no; initial-scale=1.0" />').C('x','t'))
			d1.A($.h4('[ user-scaleable = no ] ->  disables pinch-zooming').C('x','t'))
			d2=$.d('g',400,200).A().drag().pad(20)
			d2.A($.h3('mobile tips').C('x','w'))
			d2.A($.h4('tip1: ').C('x','t'))
			d2.A($.h4('tip2: ').C('x','t'))
			d2.A($.h4('tip3: ').C('x','t'))
		}
		H1=function(){
			z()
			rule="h1 {  font-size: 40px;  margin-bottom: 20px;  margin-left: 20px; }"
			$.addStyle(rule)
			// HTML5.CSSRule(rule)
			$.h1('this is a big font').A()
		}
		H12=function(){
			z()
			rule="h1 {  font-size: 22px; margin: bottom 10px;  @media (min-width:@screen-tablet) {font-size: 40px;   margin-bottom: 20px;   margin-left: 20px; } }"
			addStyle(rule)
			$h1('this is a small font').A()
		}
		BREAK=function(){
			z()
			addStyle("h1 { @media (min-width:400px) {font-size: 10px;} }")
			addStyle("h1 { @media (max-width:400px) {font-size: 20px;} }")
			// addStyle( "h1 { @media (min-width:1281px) {font-size: 40px;} }" )
			$.h1('afsdfdsasdf').A()
		}
		BREAK2=function(){
			
			
			// @media screen and (min-width: 600px) { .sixhundredminwidthclass {  width: 30%;  float: right;  } }
			//  @media screen and (max-width: 600px) {.sixhundredmaxwidth {  clear: both; font-size: 1.3em; } }
		}
		BREAK3=function(){
			z()
			//works
			$.addStyle(
				"@media all and (min-width: 960px) { body {font-size: 80px;}  }",
				"@media all and (max-width: 959px) and (min-width: 600px) {body{font-size: 40px;}}",
				"@media all and (max-width: 599px) and (min-width: 320px) {body{font-size: 20px;}}"
			)
			$.addStyle(
				"@media all and (min-width: 960px) { body {color:blue;}  }",
				"@media all and (max-width: 959px) and (min-width: 600px) {body{color:red;}}",
				"@media all and (max-width: 599px) and (min-width: 320px) {body{color:yellow;}}"
			)
			$.span('fasd').A()
			$.h1('fasd').A() //doesnt respond
		}
		touchDrg=function(element){
			var q=$b(qq(element).q).css({position:'absolute'})
				.on(
				'touchstart',
				function(e){
					$l('touchstart')
					var offset=$(this).offset(),
						deltaX=e.originalEvent.touches[0].pageX-offset.left,
						deltaY=e.originalEvent.touches[0].pageY-offset.top
					$l(deltaX+' : '+deltaY)
					$('html').on(
						'touchmove',function(e){
							$l('touchmove')
							q.css({left:e.originalEvent.touches[0].pageX-deltaX,top:e.originalEvent.touches[0].pageY-deltaY})
						}
					)
						.on(
						'touchend',function(){
							$l('touchstop');
							$(this).off()
						}
					)
				}
			)
			return $(element)
		}
		TOUCHSTART=function(){
			$.x('x')
			div=$.d('red',100,200).A()
			touchDrg(div)
		}
		EASELTOUCH=function(){
			z()
			stage=cjs.stage(500).tick().A()
			//this lets it work on apple !!
			cjs.Touch.enable(stage)
			stage.bm('me',SL)
			stage.bm('me',SL)
			stage.bm('me',SL)
			stage.bm('me',SL)
			stage.bm('me',SL)
			$.d('red',10000,10).A()
		}
		MOBILEHEADERS=function(){}
	}
	
	function media(){
		MED=function(){
			
			
			
			/*
	
	
	
			 @media screen and (min-width:600px) {        nav { float: left; width: 25%; }        section { margin-left: 25%; }      }
	
			 @media screen and (max-width:599px) {        nav li { display: inline;  }          }
	
	
	
	
			 */
		}
		CSSold=function(){
			SRU=function(){
				$.x('y','css')
				_.ru=function(){
					var g=G(arguments),ss
					ss=document.styleSheets[0]
					if(ss.insertRule){
						ss.insertRule(g.f+g.s,ss.cssRules.length||0)
					}
					else
						if(ss.addRule){
							ss.addRule(g.f,g.s,-1)
						}
					return ss
				}
				//$.hdS( css = "<link rel='stylesheet' href='/css/masterBlaster.css' type='text/css' media='screen'>" )
				$.d(400,50).K('cssClass').pad(20).A(
					ip=$.ip('date'),$.p('pargraph').A($.sp('hifds'))
				)
				//ip= $.ip('date').datepicker()
				//d1= $.dI('div', 'o', 400, 50).A($.sp('hifds'))
				// $.d().K('abc').A('this is a div')
				// $.d(500, 50).K('dd').A('this is a div')
				style=document.createElement('style')
				style.type='text/css'
				rule='.cssClass {color: #F00;}'
				style.innerHTML=rule
				$('head').A(style)
				rl1='{ display:none; }'
				_.ru('.abc','{background-color: white;color: orange}')
				_.ru('.abc','{color: white; background-color: green;}')
				_.ru('.dd','{background-color: white;color: orange}')
				$.ru('p','color:Orange')
			}
			CSS=function(){
				$.x()
				$.dK('cssClass',400,250).pad(20).A(
					ip=$.ip('date'),
					$.p('p').A($.sp('hifds'))
				).K('cssClass')
				$Ss(
					'.cssClass'+
					'{'+$Ru.dec('color','blue')
					+$Ru.dec('background-color','red')
					+'}'
				)
			};
			CSS.old=function(){
				CSS=function(){
					$.x(null,'adds .cssClass.. see for yourself')
					ru='.cssClass{color:#F00;}';
					ru1='{display:none;}'
					$.d(400,50).K('cssClass').pad(20).A(
						ip=$.ip('date'),$.p('pargraph').A($.sp('hifds'))
					)
					style=document.createElement('style');
					style.type='text/css'
					style.innerHTML=ru
					$('head').A(style)
					$l($.hd().oh())
				}
				CSS=function(){
					$.x()
					ru='.cssClass{color:#F00;}'
					$.d(400,50).K('cssClass').pad(20).A(
						ip=$.ip('date'),
						$.p('pargraph').A($.sp('hifds'))
					)
					style=document.createElement('style');
					style.type='text/css'
					style.innerHTML=ru
					$('head').A(style)
					$l($.hd().oh())
				}
				CSS=function(){
					$.x()
					ru='.cssClass{color:#F00;}'
					$.d(400,50).K('cssClass').pad(20).A(
						ip=$.ip('date'),
						$.p('pargraph').A($.sp('hifds'))
					)
					style=$El('style')
					style.type='text/css'
					style.innerHTML=ru
					$.hd(style)
					$l($.hd().oh())
				}
				CSS=function(){
					$.x()
					$.d(400,50).K('cssClass').pad(20).A(
						ip=$.ip('date'),
						$.p('pargraph')
							.A($.sp('hifds'))
					)
					sty=$Sty(ru='.cssClass{color:#F00;}')
					$.hd(sty)
					$l($.hd().oh())
				}
				CSS=function(){
					$.x()
					$.dK('cssClass',400,250).pad(20).A(
						ip=$.ip('date'),
						$.p('p').A(
							$.sp('hifds')
						)
					).K('cssClass')
					$Ss('.cssClass{color:yellow;background-color:green;}')
					$l($.hd())
					$l($.hd().oh())
					$l('-')
					$l(ip)
					$l(ip.oh())
				}
			}
			CSS=function(){
				$.x('sBr')
				$.dK(
					'class',
					400,250
				).pad(20).A(
					ip=$.ip('date'),
					$.p('p').A($.sp('hifds'))
				)
				decBlk=$Ru.decBlk(
					$Ru.dec('color','blue'),
					$Ru.dec('background-color','magenta')
				)
				$Ss('.class'+decBlk)
				$.in(
					function(){
						h=$('head')
						$l(h.oh())
						$l(ch=h.children)
						c=h.children()
						l=_.l(c)
						q=$(l)
						$l(
							'!!! -> '+q.oh()+' -> '+q.text()
						)
					}
				)
			}
			CSS=function(){
				$.x('sBr')
				$.dK(
					'class',
					400,250
				).pad(20).A(
					ip=$.ip('date'),
					$.p('p').A($.sp('hifds'))
				)
				decBlk=$Ru.decBlk(
					$Ru.dec('color','blue'),
					$Ru.dec('background-color','magenta')
				)
				$Ss('.class'+decBlk)
				$.in(
					function(){
						h=$('head')
						$l(h.oh())
						$l(ch=h.children)
						c=h.children()
						l=_.l(c)
						q=$(l)
						$l(
							'!!! -> '+q.oh()+' -> '+q.text()
						)
					}
				)
			}
			CSS=function(){
				$.x('wh')
				$.dK('k',400,250).pad(20).A(
					$.ip('date'),
					$.p('p').A($.sp('this should NOT be nonsense, mister j'))
				)
				$Ru._rule=function(sel,decs,dec2){
					var g=G(arguments)
					if(dec2){
						decs=g.r
					}
					else
						if(!A(decs)){
							decs=[decs]
						}
					return sel+this.decBlk.apply(this,decs)
				}
				$Sty(
					$Ru._rule(
						'.k',
						$Ru.dec('color','blue'),
						$Ru.dec('background-color','magenta')
					)
				)
			}
			CSS=function(){
				$.x('ct')
				$.bt('afdsfadsfdfds')
				$.dK('k',400,250).pad(20).A(
					$.ip('date'),
					$.p('p').A($.sp('this should NOT be nonsense, mister j'))
				)
				$Ru.rule(
					{sel:'.k','c':'b','C':'tq'},
					{sel:'button','c':'w','C':'z',w:'30px',h:'50px'}
				)
			}
		}
		VIEWPORT=function(){
			
			// <meta name="viewport" content="initial-scale=1">
			// http://webdesign.tutsplus.com/articles/quick-tip-dont-forget-the-viewport-meta-tag--webdesign-5972
			//http://blog.javierusobiaga.com/stop-using-the-viewport-tag-until-you-know-ho
		}
		$CSS.mx.bpLarge=function(cont){
			return [
				'@media only screen and (max-width: 400px)',cont
			]
		}
		$CSS.mx.bpMid=function(cont){
			return [
				'@media only screen and (max-width: 600px)',cont
			]
		}
		$CSS.mx.bpSmall=function(cont){
			return [
				'@media only screen and (max-width: 800px)',cont
			]
		}
	}
	
	function touch(){
		TOMAKETOUCHWORKAGAIN=function(){
			
			/*
	
			 //  w._mouseJoint = null //  w._mouseIsDown = false
	
			 w.mouseJoints()
	
			 $.touchstart(function(e){
	
			 w._mouseIsDown = true
	
			 recordMouseCoords(e)
			 $.touchmove(recordMouseCoords)
			 function recordMouseCoords(e){
			 var touch = e.originalEvent.touches[0]
			 mX = (touch.clientX-w.x)/30
			 mY = (touch.clientY-w.y)/30
			 }
	
	
			 }).touchend( function(){w._mouseIsDown = false})
	
	
	
			 setInterval(function(){//handleMouseJoints()
			 w.draw(1/60)
			 if(F(ops.cb)){ops.cb()}
			 w.stage.update()
			 }, 1000/60) */
		}
		function hammer(){
			HAMMER=function(){
				z()
				d=$divA().w(100).h(100).c('r').a().id('hammerdrag')
				var hammertime=new Hammer(d.el,{})
				// hammertime.on('pan', function(ev) {   console.log(ev);  d.left(d.left()+1  ) })
				hammertime.on(
					'panright',function(ev){
						// alert('pan')
						console.log(ev);
						d.left(
							d.left()+1
						)
					}
				)
				hammertime.on(
					'panleft',function(ev){
						// alert('pan')
						console.log(ev);
						d.left(
							d.left()-1
						)
					}
				)
			}
			HAMMER1=function(){
				z()
				d=$div().w(100).h(100).c('r').a().id('hammerdrag')
				var hammertime=new Hammer(d.el,{})
				hammertime.on(
					'pan',function(ev){
						alert('pan')
						console.log(ev);
					}
				)
				hammertime.get('pan').set({direction:Hammer.DIRECTION_ALL});
				c=$can().a()
				c.can.addEventListener(
					'touchmove',function(ev){
						$l('touchmove')
						e=ev
					}
				)
				Hammer(c.can).on(
					'drag',function(){
						alert('drag')
					}
				)
				hammertime=new Hammer(c.can,{})
				hammertime.on(
					'pan',function(ev){
						c.x(c.x()+10)
						console.log(ev)
					}
				)
				//By default it adds a set of tap, doubletap, press, horizontal pan and swipe, and the multi-touch pinch and rotate recognizers. The pinch and rotate recognizers are disabled by default because they would make the element blocking, but you can enable them by calling:
				hammertime.get('pinch').set({enable:true});
				hammertime.get('rotate').set({enable:true});
				hammertime.on(
					'pinch',function(ev){
						alert('pinch')
					}
				)
				ctx=c.can.getContext('2d')
			}
		}
		
		function ipad(){
			//J.Touch.enable(st);
			touchEnable=function(s){//important for ipad
				//move this onto stage itself
				cjs.Touch.enable(s);
				return s
			}
		}
	}
}

function touch(){function hammer(){
	HAMMER = function () {
		z()
		d = $divA().w(100).h(100).c('r').a().id('hammerdrag')
		var hammertime = new Hammer(d.el, {})
		// hammertime.on('pan', function(ev) {   console.log(ev);  d.left(d.left()+1  ) })
		hammertime.on('panright', function (ev) {
			// alert('pan')
			console.log(ev);
			d.left(d.left() + 1
			)
		})
		hammertime.on('panleft', function (ev) {
			// alert('pan')
			console.log(ev);
			d.left(d.left() - 1
			)
		})
	}
	HAMMER1 = function () {
		z()
		d = $div().w(100).h(100).c('r').a().id('hammerdrag')
		var hammertime = new Hammer(d.el, {})
		hammertime.on('pan', function (ev) {
			alert('pan')
			console.log(ev);
		})
		hammertime.get('pan').set({direction: Hammer.DIRECTION_ALL});
		c = $can().a()
		c.can.addEventListener('touchmove', function (ev) {
			$l('touchmove')
			e = ev
		})
		Hammer(c.can).on('drag', function () {
			alert('drag')
		})
		hammertime = new Hammer(c.can, {})
		hammertime.on('pan', function (ev) {
			c.x(c.x() + 10)
			console.log(ev)
		})
		//By default it adds a set of tap, doubletap, press, horizontal pan and swipe, and the multi-touch pinch and rotate recognizers. The pinch and rotate recognizers are disabled by default because they would make the element blocking, but you can enable them by calling:
		hammertime.get('pinch').set({enable: true});
		hammertime.get('rotate').set({enable: true});
		hammertime.on('pinch', function (ev) {
			alert('pinch')
		})
		ctx = c.can.getContext('2d')
	}}
	TOMAKETOUCHWORKAGAIN = function () {
		
		
		
		//  w._mouseJoint = null //  w._mouseIsDown = false
		w.mouseJoints()
		$.touchstart(function (e) {
			w._mouseIsDown = true
			recordMouseCoords(e)
			$.touchmove(recordMouseCoords)
			function recordMouseCoords(e) {
				var touch = e.originalEvent.touches[0]
				mX = (touch.clientX - w.x) / 30
				mY = (touch.clientY - w.y) / 30
			}
		}).touchend(function () {
			w._mouseIsDown = false
		})
		setInterval(function () {//handleMouseJoints()
			w.draw(1 / 60)
			if (F(ops.cb)) {
				ops.cb()
			}
			w.stage.update()
		}, 1000 / 60)
	}
//J.Touch.enable(st);
	touchEnable = function (s) {//important for ipad
//move this onto stage itself
		cjs.Touch.enable(s);
		return s
	}
}